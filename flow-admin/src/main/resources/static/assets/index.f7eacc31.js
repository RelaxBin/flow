import e from"./CurrentPermissionMode.6d49b853.js";import{al as s,f as t,X as o,b6 as n,b7 as i}from"./index.8bbed969.js";import{P as r}from"./index.22ff4fb2.js";import{y as a,bE as c,j as d,z as m,A as f,Z as u,B as l,F as p,v as b,K as k,a9 as j}from"./vendor.880b4c6c.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./onMountedOrActivated.8f899bfb.js";import"./useWindowSizeFn.564cf32e.js";import"./useContentViewHeight.c0fc876b.js";var v=a({components:{Alert:c,CurrentPermissionMode:e,PageWrapper:r},setup(){const{refreshMenu:e}=s(),r=t(),a=o(),c=d((()=>a.getProjectConfig.permissionMode===i.BACK));return{RoleEnum:n,refreshMenu:e,switchToken:function(s){return t=this,o=null,n=function*(){const t="fakeToken"+s;r.setToken(t),r.getUserInfoAction(),e()},new Promise(((e,s)=>{var i=e=>{try{a(n.next(e))}catch(t){s(t)}},r=e=>{try{a(n.throw(e))}catch(t){s(t)}},a=s=>s.done?e(s.value):Promise.resolve(s.value).then(i,r);a((n=n.apply(t,o)).next())}));var t,o,n},isBackPremissionMode:c}}});const h=k("data-v-45cf91b6");m("data-v-45cf91b6");const P={class:"mt-4"},M=j(" 权限切换(请先切换权限模式为后台权限模式): "),g=j(" 获取用户id为1的菜单 "),x=j(" 获取用户id为2的菜单 ");f();const C=h(((e,s,t,o,n,i)=>{const r=u("CurrentPermissionMode"),a=u("Alert"),c=u("a-button"),d=u("a-button-group"),m=u("PageWrapper");return l(),p(m,{title:"后台权限示例",contentBackground:"",contentClass:"p-4",content:"目前mock了两组数据， id为1 和 2 具体返回的菜单可以在mock/sys/menu.ts内查看"},{default:h((()=>[b(r),b(a,{class:"mt-4",type:"info",message:"点击后请查看左侧菜单变化","show-icon":""}),b("div",P,[M,b(d,null,{default:h((()=>[b(c,{onClick:s[1]||(s[1]=s=>e.switchToken(1)),disabled:!e.isBackPremissionMode},{default:h((()=>[g])),_:1},8,["disabled"]),b(c,{onClick:s[2]||(s[2]=s=>e.switchToken(2)),disabled:!e.isBackPremissionMode},{default:h((()=>[x])),_:1},8,["disabled"])])),_:1})])])),_:1})}));v.render=C,v.__scopeId="data-v-45cf91b6";export default v;
